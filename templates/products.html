<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products - Floret World | Ecommerce Website Design</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        body {
            background-color: #f1b7b7;
        }
    </style>
</head>
<body>

    <div class="navbar">
        <div class="logo">
            <img src="{{ url_for('static', filename='products/websitelogo.webp') }}" width="120px">
        </div>
        <nav>
            <ul id="MenuItems">
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="#">Products</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
                <li><a href="#">Account</a></li>
            </ul>
        </nav>
        <div class="icons">
            
            <img src="{{ url_for('static', filename='products/cart.png') }}" width="30px" height="30px">
            
        </div>
    </div>

<!------------- New Arrivals ------------->

<div class="small-container">
    <h2 class="title">New Arrivals</h2>
    <div class="row">
        <div class="col-4">
            <img src="{{ url_for('static', filename='products/combos/combo2.jpg') }}">
            <h4>Roses & Richness Combo</h4>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i> 
                <i class="far fa-star"></i> 
            </div>
            <p>₹1,060</p>
            <form action="{{ url_for('add_to_cart', product_name='Roses & Richness Combo') }}" method="POST" class="cart-form">
        <div class="quantity-selector">
            <button type="button" class="qty-btn" onclick="changeQty(this, -1)">-</button>
            <input type="number" name="quantity" value="1" min="1" class="qty-input" readonly>
            <button type="button" class="qty-btn" onclick="changeQty(this, 1)">+</button>
        </div>
        <button type="submit" class="btn">Add to Cart</button>
    </form>
    
    <form action="{{ url_for('buy_now', product_name='Roses & Richness Combo') }}" method="POST">
        <button type="submit" class="btn" style="margin-top: 10px;">Buy Now</button>
    </form>
        </div>
        <div class="col-4">
            <img src="{{ url_for('static', filename='products/bouquet/bouquet1.jpg') }}">
            <h4>Sunflower Serenity</h4>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
            </div>
            <p>₹550</p>

            <form action="{{ url_for('add_to_cart', product_name='Sunflower Serenity') }}" method="POST" class="cart-form">
                <div class="quantity-selector">
                    <button type="button" class="qty-btn" onclick="changeQty(this, -1)">-</button>
                    <input type="number" name="quantity" value="1" min="1" class="qty-input" readonly>
                    <button type="button" class="qty-btn" onclick="changeQty(this, 1)">+</button>
                </div>
                <button type="submit" class="btn">Add to Cart</button>
            </form>
            
            <form action="{{ url_for('buy_now', product_name='Sunflower Serenity') }}" method="POST">
                <button type="submit" class="btn" style="margin-top: 10px;">Buy Now</button>
            </form>

        </div>
        <div class="col-4">
            <img src="{{ url_for('static', filename='products/single/SINGLE1.jpg') }}">
            <h4>Crimson Charm  Rose</h4>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i> 
            </div>
            <p>₹180</p>
            <form action="{{ url_for('add_to_cart', product_name='Crimson Charm  Rose') }}" method="POST" class="cart-form">
                <div class="quantity-selector">
                    <button type="button" class="qty-btn" onclick="changeQty(this, -1)">-</button>
                    <input type="number" name="quantity" value="1" min="1" class="qty-input" readonly>
                    <button type="button" class="qty-btn" onclick="changeQty(this, 1)">+</button>
                </div>
                <button type="submit" class="btn">Add to Cart</button>
            </form>
            
            <form action="{{ url_for('buy_now', product_name='Crimson Charm  Rose') }}" method="POST">
                <button type="submit" class="btn" style="margin-top: 10px;">Buy Now</button>
            </form>
            
        </div>
        <div class="col-4">
            <img src="{{ url_for('static', filename='products/chocolate bouquet/CB3.jpg') }}">
            <h4>Choco Blossom Delight Bouquet</h4>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
            </div>
            <p>₹400</p>




            <form action="{{ url_for('add_to_cart', product_name='Choco Blossom Delight Bouquet') }}" method="POST" class="cart-form">
                <div class="quantity-selector">
                    <button type="button" class="qty-btn" onclick="changeQty(this, -1)">-</button>
                    <input type="number" name="quantity" value="1" min="1" class="qty-input" readonly>
                    <button type="button" class="qty-btn" onclick="changeQty(this, 1)">+</button>
                </div>
                <button type="submit" class="btn">Add to Cart</button>
            </form>
            
            <form action="{{ url_for('buy_now', product_name='Choco Blossom Delight Bouquet') }}" method="POST">
                <button type="submit" class="btn" style="margin-top: 10px;">Buy Now</button>
            </form>

        </div>
    </div>
</div>

<!------------- Footer ------------->

<div class="footer">
    <div class="container">
        <div class="row">
            <div class="footer-col-1">
                <h3>Download our App</h3>
                <p>Download App for Android and iOS mobile phones.</p>
                <div class="app-logo">
                    <img src="{{ url_for('static', filename='products/play-store.png') }}">
                    <img src="{{ url_for('static', filename='products/app-store.png') }}">
                </div>
            </div>
            <div class="footer-col-2">
                <img src="{{ url_for('static', filename='products/websitelogo.webp') }}">
                <p>Our Purpose is to Sustainably Make the Pleasure and Benefits of Flowers Accessible to All.</p>
            </div>
            <div class="footer-col-3">
                <h3>Useful Links</h3>
                <ul>
                    <li>Coupons</li>
                    <li>Blog Post</li>
                    <li>Return Policy</li>
                    <li>Join Affiliate</li>
                </ul>
            </div>
            <div class="footer-col-4">
                <h3>Follow Us On</h3>
                <ul>
                    <li>Facebook</li>
                    <li>Twitter</li>
                    <li>Instagram</li>
                    <li>YouTube</li>
                </ul>
            </div>
        </div>
        <hr>
        <p class="Copyright">Copyright 2025 - Easy Tutorials</p>
    </div>
</div>

<!------------- JS for Toggle Menu ------------->

<script>
    var MenuItems = document.getElementById("MenuItems");

    MenuItems.style.maxHeight = "0px";

    function menutoggle(){
        if(MenuItems.style.maxHeight == "0px") {
            MenuItems.style.maxHeight = "200px";
        } else {
            MenuItems.style.maxHeight = "0px";
        }
    }
</script>

<script>
    function changeQty(button, delta) {
        const input = button.parentElement.querySelector(".qty-input");
        let qty = parseInt(input.value);
        qty = isNaN(qty) ? 1 : qty + delta;
        if (qty < 1) qty = 1;
        input.value = qty;
    }
    </script>

<script>
    function updateCart(productName, delta) {
        const input = document.getElementById('qty-' + productName);
        let quantity = parseInt(input.value) + delta;
        if (quantity < 1) quantity = 1;
        input.value = quantity;

        fetch('/update_cart', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': "{{ csrf_token() if csrf_token else '' }}"
            },
            body: JSON.stringify({
                product_name: productName,
                quantity: quantity
            })
        }).then(response => response.json())
          .then(data => {
              console.log(data.message);
          });
    }
</script>

    
    <style>
    .quantity-selector {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 10px;
    }
    
    .qty-btn {
        padding: 5px 10px;
        font-size: 16px;
        background-color: #ad6980;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 4px;
    }
    
    .qty-input {
        width: 50px;
        text-align: center;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 4px;
    }
    </style>
    
    

</body>
</html>
